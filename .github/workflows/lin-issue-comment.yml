name: Lin Issue Comment

on:
  workflow_dispatch:
    inputs:
      issue_number:
        description: "Issue number"
        required: true
      message:
        description: "Comment body"
        required: true

permissions:
  issues: write

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Post comment to issue
        uses: actions/github-script@v7
        with:
          script: |
            const issue_number = Number(context.payload.inputs.issue_number);
            const message = context.payload.inputs.message;

            core.info(`Posting to issue #${issue_number}`);
            core.info(`Message: ${message}`);

            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number,
              body: message,
            });
